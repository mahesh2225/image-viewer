{"ast":null,"code":"import _classCallCheck from \"E:\\\\Upgrad7\\\\image-viewer-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"E:\\\\Upgrad7\\\\image-viewer-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"E:\\\\Upgrad7\\\\image-viewer-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"E:\\\\Upgrad7\\\\image-viewer-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"E:\\\\Upgrad7\\\\image-viewer-master\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"E:\\\\Upgrad7\\\\image-viewer-master\\\\src\\\\common\\\\header\\\\Header.js\";\nimport React, { Component } from 'react';\nimport './Header.css';\nimport Input from '@material-ui/core/Input';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Avatar from \"@material-ui/core/Avatar\";\n\nvar Header =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Header, _Component);\n\n  function Header() {\n    var _this;\n\n    _classCallCheck(this, Header);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Header).call(this));\n\n    _this.menuOpenHandler = function (event) {\n      _this.setState({\n        anchorEl: event.currentTarget\n      });\n    };\n\n    _this.menuCloseHandler = function () {\n      _this.setState({\n        anchorEl: null\n      });\n    };\n\n    _this.menuMyAccountHandler = function () {\n      _this.menuCloseHandler();\n\n      _this.props.history.push('/profile');\n    };\n\n    _this.logoutHandler = function () {\n      sessionStorage.removeItem(\"access-token\");\n\n      _this.menuCloseHandler();\n\n      _this.props.history.push('/login');\n    };\n\n    _this.homePageOpenHandler = function () {\n      _this.props.history.push('/home');\n    };\n\n    _this.state = {\n      anchorEl: null,\n      userProfileData: null\n    };\n    return _this;\n  }\n\n  _createClass(Header, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      if (this.state.loggedIn === false) {\n        this.props.history.push('/login');\n      }\n\n      fetch(this.props.baseUrl + '?access_token=' + sessionStorage.getItem('access-token')).then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        _this2.setState({\n          userProfileData: result.data\n        });\n      }, function (error) {\n        console.log(\"Error while fetching user profile data from Instagram.\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"header\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"title\",\n        onClick: this.homePageOpenHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, \"Image Viewer\"), React.createElement(\"div\", {\n        className: \"header-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, this.props.showSearchBar === true ? React.createElement(\"div\", {\n        id: \"search-field\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"searchIcon\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(SearchIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(Input, {\n        id: \"search-text\",\n        className: \"searchInput\",\n        disableUnderline: true,\n        placeholder: \"Search...\",\n        onChange: this.props.searchHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })) : \"\", this.props.showProfileIcon === true ? React.createElement(IconButton, {\n        id: \"profile-icon\",\n        edge: \"start\",\n        color: \"inherit\",\n        \"aria-label\": \"menu\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, this.state.userProfileData ? React.createElement(Avatar, {\n        alt: this.state.userProfileData.full_name,\n        id: \"profile-icon\",\n        fontSize: \"small\",\n        variant: \"circle\",\n        src: this.state.userProfileData.profile_picture,\n        onClick: this.menuOpenHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }) : null, React.createElement(Menu, {\n        id: \"simple-menu\",\n        anchorEl: this.state.anchorEl,\n        keepMounted: true,\n        open: Boolean(this.state.anchorEl),\n        onClose: this.menuCloseHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.showOnlyLogoutMenu === false ? React.createElement(MenuItem, {\n        onClick: this.menuMyAccountHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"My account\") : \"\", React.createElement(MenuItem, {\n        onClick: this.logoutHandler,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Logout\"))) : \"\"));\n    }\n  }]);\n\n  return Header;\n}(Component);\n\nexport default Header;","map":{"version":3,"sources":["E:/Upgrad7/image-viewer-master/src/common/header/Header.js"],"names":["React","Component","Input","SearchIcon","IconButton","Menu","MenuItem","Avatar","Header","menuOpenHandler","event","setState","anchorEl","currentTarget","menuCloseHandler","menuMyAccountHandler","props","history","push","logoutHandler","sessionStorage","removeItem","homePageOpenHandler","state","userProfileData","loggedIn","fetch","baseUrl","getItem","then","res","json","result","data","error","console","log","showSearchBar","searchHandler","showProfileIcon","full_name","profile_picture","Boolean","showOnlyLogoutMenu"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './Header.css';\nimport Input from '@material-ui/core/Input';\nimport SearchIcon from '@material-ui/icons/Search';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Avatar from \"@material-ui/core/Avatar\";\n\nclass Header extends Component {\n    constructor() {\n        super();\n        this.state = {\n            anchorEl: null,\n            userProfileData: null\n        }\n\n    }\n    componentWillMount() {\n        if (this.state.loggedIn === false) {\n            this.props.history.push('/login');\n        }\n\n        fetch(this.props.baseUrl + '?access_token=' + sessionStorage.getItem('access-token'))\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({userProfileData: result.data});\n\n                },\n                (error) => {\n                    console.log(\"Error while fetching user profile data from Instagram.\",error);\n                }\n            )\n    }\n    menuOpenHandler = (event) => {\n        this.setState({ anchorEl: event.currentTarget });\n    }\n    menuCloseHandler = () => {\n        this.setState({ anchorEl : null });\n    }\n    menuMyAccountHandler = () => {\n        this.menuCloseHandler();\n        this.props.history.push('/profile');\n    }\n\n    logoutHandler = () => {\n        sessionStorage.removeItem(\"access-token\");\n        this.menuCloseHandler();\n        this.props.history.push('/login');\n    }\n\n    homePageOpenHandler = () => {\n        this.props.history.push('/home');\n    }\n\n    render() {\n        return (\n            <div className=\"header\">\n                <div className=\"title\" onClick={this.homePageOpenHandler} >Image Viewer</div>\n                \n                <div className=\"header-right\">\n                    { this.props.showSearchBar === true ?\n                    <div id=\"search-field\">\n                        <div className=\"searchIcon\" >\n                            <SearchIcon />\n                        </div>\n                        <Input id=\"search-text\" className=\"searchInput\" disableUnderline={true} placeholder=\"Search...\" onChange={this.props.searchHandler} />\n                    </div>\n                        : \"\"\n                    }\n                    { this.props.showProfileIcon === true ?\n                    <IconButton id=\"profile-icon\" edge=\"start\" color=\"inherit\" aria-label=\"menu\"  >\n                        {this.state.userProfileData ?\n                            <Avatar alt={this.state.userProfileData.full_name} id=\"profile-icon\" fontSize=\"small\"\n                                    variant=\"circle\" src={this.state.userProfileData.profile_picture} onClick={this.menuOpenHandler} /> : null}\n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={this.state.anchorEl}\n                            keepMounted\n                            open={Boolean(this.state.anchorEl)}\n                            onClose={this.menuCloseHandler}\n                        >\n                            { this.props.showOnlyLogoutMenu === false ?\n                                <MenuItem onClick={this.menuMyAccountHandler}>My account</MenuItem>\n                                : \"\"\n                            }\n                            <MenuItem onClick={this.logoutHandler}>Logout</MenuItem>\n                        </Menu>\n                    </IconButton>\n                        : \"\"\n                    }\n                </div> \n            </div>\n\n        )\n    }\n}\n\nexport default Header;"]},"metadata":{},"sourceType":"module"}